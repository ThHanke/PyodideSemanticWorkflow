@base <https://thhanke.github.io/PyodideSemanticWorkflow/> .
@prefix spw: <https://thhanke.github.io/PyodideSemanticWorkflow#> .
@prefix p-plan: <http://purl.org/net/p-plan#> .
@prefix prov: <http://www.w3.org/ns/prov#> .
@prefix qudt: <http://qudt.org/schema/qudt/> .
@prefix unit: <http://qudt.org/vocab/unit/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix bfo: <https://example.org/bfo/> .

################################################################################
#
# EXAMPLE: Sum Workflow Execution
#
# This file demonstrates a complete execution instance of the Sum workflow
# template defined in workflows/catalog.ttl.
#
# This shows the EXECUTION LEVEL (runtime) as opposed to the TEMPLATE LEVEL
# (design time). The execution uses concrete data and links back to the
# template using P-Plan's correspondsTo properties.
#
################################################################################


################################################################################
# INPUT DATA: Two concrete QUDT QuantityValues
################################################################################

spw:inputLength1 a qudt:QuantityValue, prov:Entity ;
    qudt:numericValue "2.0"^^xsd:decimal ;
    qudt:unit unit:MilliM ;
    p-plan:correspondsToVariable spw:SumInput1 .

spw:inputLength2 a qudt:QuantityValue, prov:Entity ;
    qudt:numericValue "3.0"^^xsd:decimal ;
    qudt:unit unit:MilliM ;
    p-plan:correspondsToVariable spw:SumInput2 .


################################################################################
# EXECUTION PROCESS: The actual activity
################################################################################

spw:SumRun_1 a prov:Activity ;
    p-plan:correspondsToStep spw:SumStep ;
    prov:used spw:inputLength1, spw:inputLength2 ;
    prov:wasAssociatedWith spw:PyodideEngine ;
    prov:startedAtTime "2026-01-30T10:45:00Z"^^xsd:dateTime ;
    prov:endedAtTime "2026-01-30T10:45:01Z"^^xsd:dateTime .

# Explicit BFO-style input links (from original sum_semantic_graph.ttl)
spw:inputLength1 bfo:is_input_of spw:SumRun_1 .
spw:inputLength2 bfo:is_input_of spw:SumRun_1 .


################################################################################
# OUTPUT: Result generated by the execution
################################################################################

<#sumResult_c22ad6de4d807f4b> a qudt:QuantityValue, prov:Entity ;
    qudt:numericValue "5.0"^^xsd:decimal ;
    qudt:unit unit:MilliM ;
    p-plan:correspondsToVariable spw:SumOutput ;
    prov:wasGeneratedBy spw:SumRun_1 ;
    prov:wasDerivedFrom spw:inputLength1, spw:inputLength2 .


################################################################################
# PROVENANCE CHAIN
#
# The complete provenance shows:
# 1. Template (spw:SumTemplate) defines the abstract workflow
# 2. Execution (spw:SumRun_1) corresponds to template step (spw:SumStep)
# 3. Input data (spw:inputLength1, spw:inputLength2) correspond to template variables
# 4. Output (<#sumResult...>) was generated by the execution
# 5. Output was derived from the inputs
#
# This enables queries like:
# - "Find all executions of template X"
# - "What was this result derived from?"
# - "What template was used to create this?"
################################################################################
